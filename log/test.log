# Logfile created on 2023-01-25 18:09:28 +0100 by logger.rb/v1.5.0
[csrf_example] [INFO] [2023-01-25 18:09:28 +0100] GET 200 19ms 127.0.0.1 /test1 -
[csrf_example] [INFO] [2023-01-25 18:09:28 +0100] POST 200 4ms 127.0.0.1 /test1 -
  {:_csrf_token=>"", :name=>"Karol"}
[csrf_example] [INFO] [2023-01-25 18:09:40 +0100] GET 200 21ms 127.0.0.1 /test1 -
[csrf_example] [INFO] [2023-01-25 18:09:40 +0100] POST 200 4ms 127.0.0.1 /test1 -
  {:_csrf_token=>"", :name=>"Karol"}
[csrf_example] [INFO] [2023-01-25 18:09:40 +0100] GET 200 1ms 127.0.0.1 /test2 -
[csrf_example] [ERROR] [2023-01-25 18:09:40 +0100] POST 500 0Âµs 127.0.0.1 /test2 -
  {:_csrf_token=>"", :name=>"Karol"}
  ERRORS: {:_csrf_token=>["must be filled"]} (RuntimeError)
  /Users/kukicola/Desktop/csrf_example/app/actions/test2/create.rb:13:in `handle'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/hanami-controller-2.0.1/lib/hanami/action.rb:326:in `block in call'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/hanami-controller-2.0.1/lib/hanami/action.rb:307:in `catch'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/hanami-controller-2.0.1/lib/hanami/action.rb:307:in `call'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/hanami-2.0.2/lib/hanami/slice/routing/resolver.rb:78:in `block in resolve_slice_action'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/hanami-router-2.0.2/lib/hanami/router.rb:108:in `call'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/rack-2.2.6.2/lib/rack/session/abstract/id.rb:266:in `context'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/rack-2.2.6.2/lib/rack/session/abstract/id.rb:260:in `call'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/dry-monitor-1.0.1/lib/dry/monitor/rack/middleware.rb:36:in `block in call'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/dry-monitor-1.0.1/lib/dry/monitor/clock.rb:15:in `measure'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/dry-monitor-1.0.1/lib/dry/monitor/rack/middleware.rb:36:in `call'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/hanami-router-2.0.2/lib/hanami/middleware/app.rb:40:in `call'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/hanami-2.0.2/lib/hanami/slice.rb:758:in `call'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/rack-test-2.0.2/lib/rack/test.rb:358:in `process_request'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/rack-test-2.0.2/lib/rack/test.rb:165:in `custom_request'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/rack-test-2.0.2/lib/rack/test.rb:114:in `post'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/3.1.0/forwardable.rb:238:in `post'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/capybara-3.38.0/lib/capybara/rack_test/browser.rb:80:in `process'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/capybara-3.38.0/lib/capybara/rack_test/browser.rb:55:in `process_and_follow_redirects'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/capybara-3.38.0/lib/capybara/rack_test/browser.rb:38:in `submit'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/capybara-3.38.0/lib/capybara/rack_test/form.rb:57:in `submit'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/capybara-3.38.0/lib/capybara/rack_test/node.rb:75:in `click'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/capybara-3.38.0/lib/capybara/rack_test/node.rb:138:in `call'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/capybara-3.38.0/lib/capybara/rack_test/node.rb:138:in `click'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/capybara-3.38.0/lib/capybara/node/element.rb:172:in `block in click'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/capybara-3.38.0/lib/capybara/node/element.rb:608:in `block in perform_click_action'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/capybara-3.38.0/lib/capybara/node/base.rb:84:in `synchronize'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/capybara-3.38.0/lib/capybara/node/element.rb:608:in `perform_click_action'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/capybara-3.38.0/lib/capybara/node/element.rb:171:in `click'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/capybara-3.38.0/lib/capybara/node/actions.rb:58:in `click_button'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/capybara-3.38.0/lib/capybara/session.rb:773:in `click_button'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/capybara-3.38.0/lib/capybara/dsl.rb:52:in `call'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/capybara-3.38.0/lib/capybara/dsl.rb:52:in `click_button'
  /Users/kukicola/Desktop/csrf_example/spec/features/test2_spec.rb:5:in `block (2 levels) in <top (required)>'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/rspec-core-3.12.0/lib/rspec/core/example.rb:263:in `instance_exec'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/rspec-core-3.12.0/lib/rspec/core/example.rb:263:in `block in run'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/rspec-core-3.12.0/lib/rspec/core/example.rb:511:in `block in with_around_and_singleton_context_hooks'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/rspec-core-3.12.0/lib/rspec/core/example.rb:468:in `block in with_around_example_hooks'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/rspec-core-3.12.0/lib/rspec/core/hooks.rb:486:in `block in run'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/rspec-core-3.12.0/lib/rspec/core/hooks.rb:624:in `run_around_example_hooks_for'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/rspec-core-3.12.0/lib/rspec/core/hooks.rb:486:in `run'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/rspec-core-3.12.0/lib/rspec/core/example.rb:468:in `with_around_example_hooks'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/rspec-core-3.12.0/lib/rspec/core/example.rb:511:in `with_around_and_singleton_context_hooks'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/rspec-core-3.12.0/lib/rspec/core/example.rb:259:in `run'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/rspec-core-3.12.0/lib/rspec/core/example_group.rb:646:in `block in run_examples'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/rspec-core-3.12.0/lib/rspec/core/example_group.rb:642:in `map'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/rspec-core-3.12.0/lib/rspec/core/example_group.rb:642:in `run_examples'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/rspec-core-3.12.0/lib/rspec/core/example_group.rb:607:in `run'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/rspec-core-3.12.0/lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/rspec-core-3.12.0/lib/rspec/core/runner.rb:121:in `map'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/rspec-core-3.12.0/lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/rspec-core-3.12.0/lib/rspec/core/configuration.rb:2070:in `with_suite_hooks'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/rspec-core-3.12.0/lib/rspec/core/runner.rb:116:in `block in run_specs'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/rspec-core-3.12.0/lib/rspec/core/reporter.rb:74:in `report'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/rspec-core-3.12.0/lib/rspec/core/runner.rb:115:in `run_specs'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/rspec-core-3.12.0/lib/rspec/core/runner.rb:89:in `run'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/rspec-core-3.12.0/lib/rspec/core/runner.rb:71:in `run'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/rspec-core-3.12.0/lib/rspec/core/runner.rb:45:in `invoke'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/rspec-core-3.12.0/exe/rspec:4:in `<top (required)>'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/bin/rspec:25:in `load'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/bin/rspec:25:in `<top (required)>'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/3.1.0/bundler/cli/exec.rb:58:in `load'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/3.1.0/bundler/cli/exec.rb:58:in `kernel_load'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/3.1.0/bundler/cli/exec.rb:23:in `run'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/3.1.0/bundler/cli.rb:486:in `exec'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/3.1.0/bundler/vendor/thor/lib/thor/command.rb:27:in `run'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/3.1.0/bundler/vendor/thor/lib/thor/invocation.rb:127:in `invoke_command'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/3.1.0/bundler/vendor/thor/lib/thor.rb:392:in `dispatch'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/3.1.0/bundler/cli.rb:31:in `dispatch'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/3.1.0/bundler/vendor/thor/lib/thor/base.rb:485:in `start'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/3.1.0/bundler/cli.rb:25:in `start'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/bundler-2.3.26/libexec/bundle:48:in `block in <top (required)>'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/3.1.0/bundler/friendly_errors.rb:120:in `with_friendly_errors'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/lib/ruby/gems/3.1.0/gems/bundler-2.3.26/libexec/bundle:36:in `<top (required)>'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/bin/bundle:25:in `load'
  /Users/kukicola/.asdf/installs/ruby/3.1.3/bin/bundle:25:in `<main>'
